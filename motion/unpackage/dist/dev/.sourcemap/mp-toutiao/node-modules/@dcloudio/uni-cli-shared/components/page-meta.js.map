{"version":3,"sources":["webpack:///./node_modules/@dcloudio/uni-cli-shared/components/page-meta.vue?4116","webpack:///./node_modules/@dcloudio/uni-cli-shared/components/page-meta.vue?65f7","webpack:///./node_modules/@dcloudio/uni-cli-shared/components/page-meta.vue?8bc7","webpack:///./node_modules/@dcloudio/uni-cli-shared/components/page-meta.vue?9612","webpack:///node_modules/@dcloudio/uni-cli-shared/components/page-meta.vue?89e4"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;;;AAGxD;AACyG;AACzG,gBAAgB,0HAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAiV,CAAgB,6XAAG,EAAC,C;;;;;;;;;;;;;;;;;;ACMrW;AACA,oBADA;AAEA;AACA,UADA;AAEA,iBAFA;AAGA,gBAHA;AAIA,eAJA,EAFA;;AAQA;AACA,UADA;AAEA,iBAFA;AAGA,gBAHA;AAIA,eAJA,EARA;;AAcA,YAdA,G;;;AAiBA;AACA;AACA;AACA,kBADA;AAEA,qBAFA;AAGA,eAHA,qBAGA,KAHA,EAGA;AACA;AACA,OALA,EADA;;AAQA;AACA,kBADA;AAEA,wBAFA,EARA;;AAYA;AACA,kBADA;AAEA,wBAFA,EAZA;;AAgBA;AACA,kBADA;AAEA,wBAFA,EAhBA;;AAoBA;AACA,kBADA;AAEA,iBAFA,EApBA;;AAwBA;AACA,kBADA;AAEA,kBAFA,EAxBA;;AA4BA;AACA,kBADA;AAEA,iBAFA,EA5BA;;AAgCA;AACA,6BADA;AAEA,oBAFA,EAhCA;;AAoCA;AACA,kBADA;AAEA,iBAFA,EApCA,EADA;;;AA0CA,SA1CA,qBA0CA;AACA;AACA;AACA;AACA;;;;;;;AAOA;AACA;AACA,KAFA;;AAIA;AACA;AACA;AACA,KAFA;;;;;;;;;;;;AAcA;;AAEA;AACA;AACA,KAFA;AAGA;AACA,wBADA;AAEA,qBAFA;AAGA;AACA;AACA,KALA;AAMA;AACA,2BADA;AAEA,8BAFA;AAGA,iCAHA;AAIA;AACA;AACA,KANA;AAOA;AACA,qBADA;AAEA,0BAFA;AAGA;AACA;AACA,KALA;AAMA,GAhGA;AAiGA,aAjGA,yBAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAxGA;AAyGA;AACA,sBADA,8BACA,OADA,EACA,OADA,EACA;AACA;AACA;AACA,0BADA;AAEA,kEAFA,EADA;;;AAMA,KARA;AASA,eATA,yBASA;AACA;;;;;;;AAOA,KAjBA;AAkBA,0BAlBA,oCAkBA;AACA;;AAEA;AACA,2CADA;;;AAIA,KAzBA;AA0BA,sBA1BA,gCA0BA;AACA;;AAEA;AACA,6CADA;AAEA,mDAFA;AAGA,yDAHA;;;AAMA,KAnCA;AAoCA,gBApCA,0BAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA;AACA,4BADA;AAEA,qCAFA;AAGA;AACA;AACA,SALA;;AAOA,KA1DA,EAzGA,E","file":"node-modules/@dcloudio/uni-cli-shared/components/page-meta.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./page-meta.vue?vue&type=template&id=30142ce2&\"\nvar renderjs\nimport script from \"./page-meta.vue?vue&type=script&lang=js&\"\nexport * from \"./page-meta.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/uni-cli-shared/components/page-meta.vue\"\nexport default component.exports","export * from \"-!../../vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../webpack-uni-mp-loader/lib/template.js!../../vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../webpack-uni-mp-loader/lib/style.js!./page-meta.vue?vue&type=template&id=30142ce2&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../babel-loader/lib/index.js!../../vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../webpack-uni-mp-loader/lib/script.js!../../vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../webpack-uni-mp-loader/lib/style.js!./page-meta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../babel-loader/lib/index.js!../../vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../webpack-uni-mp-loader/lib/script.js!../../vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../webpack-uni-mp-loader/lib/style.js!./page-meta.vue?vue&type=script&lang=js&\"","<template>\r\n  <view style=\"display: none;\">\r\n    <slot />\r\n  </view>\r\n</template>\r\n<script>\r\nconst scrolldoneEvent = {\r\n  type: 'scrolldone',\r\n  target: {\r\n    id: '',\r\n    offsetLeft: 0,\r\n    offsetTop: 0,\r\n    dataset: {}\r\n  },\r\n  currentTarget: {\r\n    id: '',\r\n    offsetLeft: 0,\r\n    offsetTop: 0,\r\n    dataset: {}\r\n  },\r\n  detail: {}\r\n}\r\n\r\nexport default {\r\n  props: {\r\n    backgroundTextStyle: {\r\n      type: String,\r\n      default: 'dark',\r\n      validator (value) {\r\n        return ['dark', 'light'].indexOf(value) !== -1\r\n      }\r\n    },\r\n    backgroundColor: {\r\n      type: String,\r\n      default: '#ffffff'\r\n    },\r\n    backgroundColorTop: {\r\n      type: String,\r\n      default: '#ffffff'\r\n    },\r\n    backgroundColorBottom: {\r\n      type: String,\r\n      default: '#ffffff'\r\n    },\r\n    scrollTop: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    scrollDuration: {\r\n      type: Number,\r\n      default: 300\r\n    },\r\n    pageStyle: {\r\n      type: String,\r\n      default: ''\r\n    },\n    enablePullDownRefresh: {\n      type: [Boolean, String],\n      default: false\n    },\r\n    rootFontSize: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  created () {\r\n    const page = getCurrentPages()[0]\r\n    this.$pageVm = page.$vm || page\r\n    // event\r\n    // h5 暂不支持生命周期 onResize,补充后，可以移除该条件编译\r\n    // #ifdef H5\r\n    uni.onWindowResize(evt => {\r\n      this.$emit('resize', evt)\r\n    })\r\n    // #endif\r\n    // #ifndef H5\r\n    this.$pageVm.$on('hook:onResize', evt => {\r\n      this.$emit('resize', evt)\r\n    })\r\n    // #endif\r\n    // 父节点一定是 page\r\n    this.$pageVm.$on('hook:onPageScroll', evt => {\r\n      this.$emit('scroll', evt)\r\n    })\n\n    // #ifdef APP-PLUS\r\n    this._currentWebview = page.$getAppWebview()\r\n    if (this.enablePullDownRefresh) {\r\n      this.setPullDownRefresh(this._currentWebview, true)\r\n    }\r\n    this.$watch('enablePullDownRefresh', (val) => {\r\n      this.setPullDownRefresh(this._currentWebview, val)\r\n    })\n    // #endif\r\n\r\n    // props\r\n\r\n    this.$watch('backgroundTextStyle', () => {\r\n      this.setBackgroundTextStyle()\r\n    })\r\n    this.$watch(() => [\r\n      this.rootFontSize,\r\n      this.pageStyle\r\n    ], () => {\r\n      this.setPageMeta()\r\n    })\r\n    this.$watch(() => [\r\n      this.backgroundColor,\r\n      this.backgroundColorTop,\r\n      this.backgroundColorBottom\r\n    ], () => {\r\n      this.setBackgroundColor()\r\n    })\r\n    this.$watch(() => [\r\n      this.scrollTop,\r\n      this.scrollDuration\r\n    ], () => {\r\n      this.pageScrollTo()\r\n    })\r\n  },\r\n  beforeMount () {\r\n    this.setBackgroundColor()\r\n    if (this.rootFontSize || this.pageStyle) {\r\n      this.setPageMeta()\r\n    }\r\n    this.backgroundTextStyle && this.setBackgroundTextStyle()\r\n    this.scrollTop && this.pageScrollTo()\r\n  },\r\n  methods: {\n    setPullDownRefresh (webview, enabled) {\n      webview.setStyle({\n        pullToRefresh: {\n          support: enabled,\n          style: plus.os.name === 'Android' ? 'circle' : 'default'\n        }\n      })\n    },\r\n    setPageMeta () {\r\n      // h5 和 app-plus 设置 rootFontSize\r\n      // #ifdef H5 || APP-PLUS\r\n      uni.setPageMeta({\r\n        pageStyle: this.pageStyle,\r\n        rootFontSize: this.rootFontSize\r\n      })\r\n      // #endif\r\n    },\r\n    setBackgroundTextStyle () {\r\n      // TODO h5 app-plus 暂不支持\r\n      // #ifdef MP\r\n      uni.setBackgroundTextStyle && uni.setBackgroundTextStyle({\r\n        textStyle: this.backgroundTextStyle\r\n      })\r\n      // #endif\r\n    },\r\n    setBackgroundColor () {\r\n      // TODO h5 app-plus 暂不支持\r\n      // #ifdef MP\r\n      uni.setBackgroundColor && uni.setBackgroundColor({\r\n        backgroundColor: this.backgroundColor,\r\n        backgroundColorTop: this.backgroundColorTop,\r\n        backgroundColorBottom: this.backgroundColorBottom\r\n      })\r\n      // #endif\r\n    },\r\n    pageScrollTo () {\r\n      let scrollTop = String(this.scrollTop)\r\n      if (scrollTop.indexOf('rpx') !== -1) {\r\n        scrollTop = uni.upx2px(scrollTop.replace('rpx', ''))\r\n      }\r\n      scrollTop = parseFloat(scrollTop)\r\n      if (isNaN(scrollTop)) {\r\n        return\r\n      }\r\n      const pageScrollDone = (evt) => {\r\n        if (evt.scrollTop === scrollTop) {\r\n          this.$pageVm.$off('hook:onPageScroll', pageScrollDone)\r\n          this.$emit('scrolldone', scrolldoneEvent)\r\n        }\r\n      }\r\n      uni.pageScrollTo({\r\n        scrollTop,\r\n        duration: this.scrollDuration,\r\n        success: () => {\r\n          this.$pageVm.$on('hook:onPageScroll', pageScrollDone)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\n"],"sourceRoot":""}